<html>
<head>
<style>
body{
    margin: 0 0 0 0;
    background-color: rgb(0, 0, 0);
}
.ship {
	background-color: rgb(0, 255, 0);
	position: absolute;
	top:80%; 
	bottom:0%; 
	right:50%;
    width: 60px; 
    height: 30px;
}

.bullet {
    width: 5px; 
    height: 5px; 
    background-color: rgb(255, 255, 0); 
    border-radius: 50%
}
.enemy {
    background-color: rgb(255, 0, 0);
	position: absolute;
    width: 60px; 
    height: 30px;
}
</style>
</head>
<body onkeydown="getKeyCod()" onkeyup="resetKey()">

<div id="player" class="ship" ></div>
<div id="bullet" class="bullet"></div>
<div id="enemy" class="enemy"></div>

<script>
const mov = 5;

let quadro = document.getElementById("player");
let pallina = document.getElementById("bullet");
let enemy = document.getElementById("enemy");

//JSON JavaScript Object Notation
let directionX = 0;

console.log(quadro.style.left);
let leftDistance = quadro.offsetLeft;
function start(){
	console.log("ENTRO DENTRO START");
	console.log(directionX);
	if(directionX != 0){
		MovePlayer(directionX);
	}
}

function MovePlayer(directionX) {
	
	//187 +
	//189 -
	//37 38 39 40
	if (directionX > 0) {
		leftDistance += mov;
		quadro.style.left = leftDistance + "px";
	} else if (directionX < 0) {
		leftDistance -= mov;
		quadro.style.left = leftDistance + "px";
	} else{
		
	}
}
function getKeyCod() {
	let key = window.event.keyCode;
	console.log('key :', key);
	console.log('top :',quadro.offsetTop);	
	console.log('left :',quadro.offsetLeft);
	//187 +
	//189 -
	//37 38 39 40
	if (key == 39) {
		directionX = 1;
	} else if (key == 37) {
		directionX = -1;
	} else if (key == 32) {
		/*TODO: SPARA CON BARRA SPAZIATRICE*/
	}
	start();
}
function resetKey() {
	directionX = 0;
}
</script>

</body>
</html>
